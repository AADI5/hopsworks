<link rel="stylesheet" href="styles/timeline.css">
<div class="container" ng-controller="MainCtrl as mainCtrl">
    <div ng-include="'nav.html'"></div>
    <div class="row">
        <div class="col-md-8" style="padding-left:56px;">
            <div class="">
                <div class="widget-body">
                    <div class="timeline clearfix">
                        <div class="mid-line"></div>
                        <div class="time-header info" ng-if="homeCtrl.histories.today.length">
                            Today
                        </div>
                        <div ng-repeat="historyObject in homeCtrl.histories.today">
                            <div class="right">
                                <div class="r-arrow"></div>
                                <div class="about-task">
                                    <div class="header">{{historyObject.projectID.name}}
                                        <small class="muted">Last {{historyObject.op | lowercase}} {{historyObject.datestamp |
                                            date:'medium'}}
                                        </small>
                                    </div>
                                    <p class="no-margin">
                                        {{historyObject.projectID.description}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="time-header completed" ng-if="homeCtrl.histories.yesterday.length">
                            Yesterday
                        </div>
                        <div ng-repeat="historyObject in homeCtrl.histories.yesterday">
                            <div class="right">
                                <div class="r-arrow"></div>
                                <div class="about-task">
                                    <div class="header">{{historyObject.projectID.name}}
                                        <small class="muted">Last {{historyObject.op | lowercase}} {{historyObject.datestamp |
                                            date:'medium'}}
                                        </small>
                                    </div>
                                    <p class="no-margin">
                                        {{historyObject.projectID.description}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="time-header completed" ng-if="homeCtrl.histories.thisWeek.length">
                            This week
                        </div>
                        <div ng-repeat="historyObject in homeCtrl.histories.thisWeek">
                            <div class="right">
                                <div class="r-arrow"></div>
                                <div class="about-task">
                                    <div class="header">{{historyObject.projectID.name}}
                                        <small class="muted">Last {{historyObject.op | lowercase}} {{historyObject.datestamp |
                                            date:'medium'}}
                                        </small>
                                    </div>
                                    <p class="no-margin">
                                        {{historyObject.projectID.description}}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="time-header error" ng-if="homeCtrl.histories.lastWeek.length">
                            Last week
                        </div>
                        <div ng-repeat="historyObject in homeCtrl.histories.lastWeek">
                            <div class="right">
                                <div class="r-arrow"></div>
                                <div class="about-task">
                                    <div class="header">{{historyObject.projectID.name}}
                                        <small class="muted">Last {{historyObject.op | lowercase }} {{historyObject.datestamp |
                                            date:'medium'}}
                                        </small>
                                    </div>
                                    <p class="no-margin">
                                        {{historyObject.projectID.description}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="time-header error" ng-if="homeCtrl.histories.older.length">
                            Older
                        </div>
                        <div ng-repeat="historyObject in homeCtrl.histories.older">
                            <div class="right">
                                <div class="r-arrow"></div>
                                <div class="about-task">
                                    <div class="header">{{historyObject.projectID.name}}
                                        <small class="muted">Last {{historyObject.op | lowercase}} {{historyObject.datestamp |
                                            date:'medium'}}
                                        </small>
                                    </div>
                                    <p class="no-margin">
                                        {{historyObject.projectID.description}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 sidebar">
            <div class="mini-submenu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </div>
      <span class="list-group-item active">
      <span class="badge pull-left" style="margin-right: 10px;">{{homeCtrl.projects.length}}</span> Projects

      <button class="btn btn-lightgrey pull-right" style="height: 30px; margin-top: -5px;padding: 0px 10px;"
              ng-click="homeCtrl.newProject()">
          <i class="fa fa-plus-circle"></i>
          New
      </button>

      </span>

            <div class="list-group-item" style="background-color: #f5f5f5;">
                <div class="input-group-btn search-panel pull-left" style="width: 87px;">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <span id="search_concept">Filter by</span> <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#its_equal"> My own</a></li>
                        <li><a href="#greather_than"> Private</a></li>
                        <li><a href="#less_than"> Public </a></li>
                        <li class="divider"></li>
                        <li><a href="#all">All</a></li>
                    </ul>
                </div>
                <input type="hidden" name="search_param" value="all" id="search_param">
                <input type="text" class="form-control pull-left" ng-model="searchProject"
                       style="width: 200px; border-radius: 0;"
                       name="x" placeholder="Find project...">
        <span class="input-group-btn">
        <button class="btn btn-default" type="button" style="height:34px;">
            <span class="glyphicon glyphicon-search"></span>
        </button>
        </span>
            </div>


            <a href="#/project/{{project.id}}" class="list-group-item"
               ng-repeat="project in homeCtrl.projects | filter: searchProject:false">
                <div ng-if="project.status">
                    <i style="width: 20px; margin-right: 10px; font-size: 20px;" class="fa fa-lock fa-2 pull-left"/>
                </div>
                <div ng-if="!project.status">
                    <i style="width: 20px; margin-right: 10px; font-size: 20px;" class="fa fa-unlock fa-2 pull-left"/>
                </div>
                {{project.name}}
            </a>
        </div>


    </div>

</div>
